<!DOCTYPE HTML>
<html lang="pl">
<head>
<meta charset="utf-8" >
<script type="text/javascript" src="script/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
// Pobieramy formularz z podanego linku na tej samej domenie i wrzucamy go do podglądu
$.ajax({ url: 'http://localhost/testpage', success: function(data) {
		var page = document.getElementById("toFetchFormFromOtherPage");
		page.innerHTML = data;
		var formGenerator = document.getElementById('formGenerator');
		formGenerator.innerHTML = document.getElementsByTagName("form")[0].innerHTML;
		var x = document.getElementsByClassName("no-margin-no-padding");
		for (i=0; i < x.length; i++) {
			x[i].onclick = function () {
				console.log(this.textContent);
				zmiana(this);
				checkMe(this);
			}
		}
		var b = document.getElementsByTagName("button");
		for(i=0; i < b.length; i++) {
			b[i].onclick = function () {
				console.log(this.textContent);
				zmiana(this);
				checkMe(this);
			}
		}
	}
});

//GENERATOR FORMULARZA -- koncept cały kod generowany do znacznika div o id formGenerator
var addToGenerator = function(e) {
	var generator = document.getElementById("formGenerator");

	if(e == 1) {
		var formElement = document.createElement("input");
		formElement.setAttribute('type','submit');
		formElement.setAttribute('value','nazwa przycisku');
		generator.appendChild(formElement);
	} else if(e == 2) {
		var formElement = document.createElement("input");
		formElement.setAttribute('type','text');
		formElement.setAttribute('placeholder','pole zachecajace...');
		generator.appendChild(formElement);
	} else if(e == 3) {
		var formElement = document.createElement("br");
		generator.appendChild(formElement);
	} else {
		console.log("Błąd przy dodawaniu elementu do kreatora formularza");
	}

}

function zmiana (e) {
	var zmiana = prompt("Wprowadz tekst, ktory chcesz tu wstawic", e.textContent);
	if(zmiana == null || zmiana == "") {
		return
	} else {
		e.textContent = zmiana;
	}
}


var checkMe = function(e) {
	console.log(e.style.marginLeft); // wypisuje margines elementu w konsoli po wcisnieciu
}

</script>
</head>
<body>
	<h1> Menu: </h1>
	<div id="generatorMenu">
		<input type="submit" onclick="addToGenerator(1);" value="Dodaj przycisk"><br />
		<input type="submit" onclick="addToGenerator(2);" value="Dodaj pole"><br />
		<input type="submit" onclick="addToGenerator(3);" value="Nowa linia"><br />

		<!-- można sprawdzać wartości i określać właściwości elementu jeśli nie jest puste - do zrobienia-->
		<h2> do zrobienia: </h2>
		<input onclick="checkMe(this);" style="margin-left:5px;" type="text" placeholder="Jaki margines od lewej?"><br />
		<input type="text" placeholder="Jaki margines od góry?"><br />
		<input type="text" placeholder="Jaki padding?"><br />
		<input type="text" placeholder="Jaka szerokosc?"><br />
		<input type="text" placeholder="Jaka wysokosc?">
	</div>
	<h1> Podglad: </h1>
	<div id="formGenerator"></div>
	<div style="display:none;" id="toFetchFormFromOtherPage"></div>
</body>
